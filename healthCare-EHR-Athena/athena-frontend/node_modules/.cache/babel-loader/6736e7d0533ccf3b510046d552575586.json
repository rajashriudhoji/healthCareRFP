{"ast":null,"code":"var _jsxFileName = \"/home/excellarate/HealthCare/healthCareRFP/healthCare-EHR-Athena/athena-frontend/src/components/home/Home.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport DataContext from \"../../context/DataContext\";\nimport { initialState } from \"../../utils/initialstate\";\nimport Header from \"../header/Header\";\nimport PatientsList from \"../patients-list/PatientsList\";\nimport \"./home.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const {\n    setStep,\n    setData,\n    setIsReadOnly,\n    setIsEdit,\n    filteredData,\n    setFilteredData,\n    patientId,\n    setBalance,\n    setShowTable,\n    departments,\n    setDepartments,\n    setIsExistingPatient,\n    setIsView\n  } = useContext(DataContext);\n  const [searchText, setSearchText] = useState(\"\");\n  const [userData, setUserData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const getUserData = async () => {\n      try {\n        const {\n          data: details\n        } = await axios.get(`http://localhost:5000/getData`);\n        setUserData(details);\n      } catch (error) {} finally {}\n    };\n\n    const getDeptData = async () => {\n      try {\n        const {\n          data: details\n        } = await axios.get(`http://localhost:5000/getDepartments`);\n        setDepartments(details);\n      } catch (error) {} finally {}\n    };\n\n    getUserData();\n    getDeptData();\n  }, []);\n\n  const handleOnChange = event => {\n    const text = event.target.value.trim();\n    setSearchText(text);\n\n    if (text !== \"\") {\n      setFilteredData(userData.filter(patient => (patient === null || patient === void 0 ? void 0 : patient.firstname.toLowerCase().indexOf(text.toLowerCase())) > -1 || (patient === null || patient === void 0 ? void 0 : patient.lastname.toLowerCase().indexOf(text.toLowerCase())) > -1));\n      setShowTable(true);\n    } else {\n      setFilteredData(filteredData);\n    }\n  };\n\n  const handleRegister = () => {\n    setStep(1);\n    setIsReadOnly(false);\n    setIsEdit(false);\n    setData(initialState);\n    navigate(\"/step-one\");\n    setIsExistingPatient(false);\n    setIsView(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-page container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-section\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"search-box\",\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"search\",\n            placeholder: \"Find Patients\",\n            value: searchText,\n            onChange: handleOnChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => handleRegister(),\n          children: \"Register Patient\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"loading\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(PatientsList, {\n        filteredData: filteredData,\n        setFilteredData: setFilteredData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Home, \"xjlovQAay+eu8LEy8Q6q7ia7XNQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["axios","useContext","useEffect","useState","Button","Form","useNavigate","DataContext","initialState","Header","PatientsList","Home","setStep","setData","setIsReadOnly","setIsEdit","filteredData","setFilteredData","patientId","setBalance","setShowTable","departments","setDepartments","setIsExistingPatient","setIsView","searchText","setSearchText","userData","setUserData","loading","setLoading","navigate","getUserData","data","details","get","error","getDeptData","handleOnChange","event","text","target","value","trim","filter","patient","firstname","toLowerCase","indexOf","lastname","handleRegister"],"sources":["/home/excellarate/HealthCare/healthCareRFP/healthCare-EHR-Athena/athena-frontend/src/components/home/Home.js"],"sourcesContent":["import axios from \"axios\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport DataContext from \"../../context/DataContext\";\nimport { initialState } from \"../../utils/initialstate\";\nimport Header from \"../header/Header\";\nimport PatientsList from \"../patients-list/PatientsList\";\nimport \"./home.css\";\n\nconst Home = () => {\n  const {\n    setStep,\n    setData,\n    setIsReadOnly,\n    setIsEdit,\n    filteredData,\n    setFilteredData,\n    patientId,\n    setBalance,\n    setShowTable,\n    departments,\n    setDepartments,\n    setIsExistingPatient,\n    setIsView,\n  } = useContext(DataContext);\n  const [searchText, setSearchText] = useState(\"\");\n  const [userData, setUserData] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const getUserData = async () => {\n      try {\n        const { data: details } = await axios.get(\n          `http://localhost:5000/getData`\n        );\n        setUserData(details);\n      } catch (error) {\n      } finally {\n      }\n    };\n\n    const getDeptData = async () => {\n      try {\n        const { data: details } = await axios.get(\n          `http://localhost:5000/getDepartments`\n        );\n        setDepartments(details);\n      } catch (error) {\n      } finally {\n      }\n    };\n    getUserData();\n    getDeptData();\n  }, []);\n\n  const handleOnChange = (event) => {\n    const text = event.target.value.trim();\n    setSearchText(text);\n    if (text !== \"\") {\n      setFilteredData(\n        userData.filter(\n          (patient) =>\n            patient?.firstname.toLowerCase().indexOf(text.toLowerCase()) > -1 ||\n            patient?.lastname.toLowerCase().indexOf(text.toLowerCase()) > -1\n        )\n      );\n      setShowTable(true);\n    } else {\n      setFilteredData(filteredData);\n    }\n  };\n\n  const handleRegister = () => {\n    setStep(1);\n    setIsReadOnly(false);\n    setIsEdit(false);\n    setData(initialState);\n    navigate(\"/step-one\");\n    setIsExistingPatient(false);\n    setIsView(false);\n  };\n\n  return (\n    <>\n      <Header />\n      <div className=\"home-page container\">\n        <div className=\"header-section\">\n          <Form.Group className=\"search-box\">\n            <Form.Control\n              type=\"search\"\n              placeholder=\"Find Patients\"\n              value={searchText}\n              onChange={handleOnChange}\n            />\n          </Form.Group>\n          <Button onClick={() => handleRegister()}>Register Patient</Button>\n        </div>\n        {loading ? (\n          <p className=\"loading\">Loading...</p>\n        ) : (\n          <PatientsList\n            filteredData={filteredData}\n            setFilteredData={setFilteredData}\n          />\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}