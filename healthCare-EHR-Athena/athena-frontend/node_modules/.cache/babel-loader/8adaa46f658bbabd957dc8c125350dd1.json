{"ast":null,"code":"var _jsxFileName = \"/home/excellarate/HealthCare/healthCareRFP/healthCare-EHR-Athena/athena-frontend/src/components/assessment-form/step-two/StepTwo.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from \"react\";\nimport { Button, Modal, Table } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport DataContext from \"../../../context/DataContext\";\nimport Stepper from \"../../stepper/Stepper\";\nimport \"./steptwo.css\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { AiFillHome } from \"react-icons/ai\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst StepTwo = () => {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleDetails = () => {\n    //setStep(3);\n    navigate(\"/\");\n  };\n\n  useEffect(async () => {\n    console.log(\"INSIDE USE\", deptId);\n\n    try {\n      setLoading(true);\n      await axios.get(`http://localhost:5000/getOpenAppointments/${deptId}`).then(data => {\n        console.log(\"DATA\", data.data);\n        setOpenAppt(data.data);\n      });\n    } catch (error) {} finally {\n      setLoading(false);\n    }\n  }, []);\n  const navigate = useNavigate();\n  const {\n    step,\n    deptId,\n    patientIdForAppt,\n    setAppointmentId,\n    openAppt,\n    setOpenAppt,\n    isExistingPatient,\n    isView,\n    patientName\n  } = useContext(DataContext);\n\n  const handleClick = async appointment_id => {\n    setAppointmentId(appointment_id); // navigate(\"/step-three\");\n\n    try {\n      setLoading(true);\n      await axios.get(`http://localhost:5000/createNewAppointment/${patientIdForAppt}/${appointment_id}`).then(data => {\n        console.log(\"DATA\", data.data);\n      });\n    } catch (error) {} finally {\n      setLoading(false);\n      const filterAppt = openAppt.filter(item => item.appointment_id !== appointment_id);\n      setOpenAppt(filterAppt);\n      setShow(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!isExistingPatient && !isView && /*#__PURE__*/_jsxDEV(Stepper, {\n      step: step\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 41\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"d-flex justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border m-5\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sr-only\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [isExistingPatient && isView && /*#__PURE__*/_jsxDEV(Link, {\n        to: step >= 1 ? \"/\" : \"\",\n        children: /*#__PURE__*/_jsxDEV(AiFillHome, {\n          color: \"#5A84C3\",\n          size: 30,\n          className: \"home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `step-form container step-three mt-5`,\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"openAppointment\",\n          children: [\"Open Appointments for \", patientName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          style: {\n            textAlign: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"table-active\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Appointment Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Duration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Start Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Book Appointment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"table-light\",\n            children: openAppt.map((patient, index) => {\n              const {\n                appointment_id,\n                appointment_type,\n                date,\n                duration,\n                start_time\n              } = patient;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: appointment_type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [duration, \" mins\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: start_time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"icon\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"bookAppointmentbtn\",\n                    onClick: () => handleClick(appointment_id),\n                    children: loading ? \"Loading\" : \"Book Appointment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: show,\n        onHide: handleClose,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: \"Appointment Booked successfully!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: handleClose,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleDetails,\n            children: \"Go To Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n\n_s(StepTwo, \"hxAQXgPcME8xkQ5e/5nhI9Q5imk=\", false, function () {\n  return [useNavigate];\n});\n\n_c = StepTwo;\nexport default StepTwo;\n\nvar _c;\n\n$RefreshReg$(_c, \"StepTwo\");","map":{"version":3,"names":["useContext","useEffect","useState","Button","Modal","Table","useNavigate","DataContext","Stepper","axios","Link","AiFillHome","StepTwo","loading","setLoading","show","setShow","handleClose","handleDetails","navigate","console","log","deptId","get","then","data","setOpenAppt","error","step","patientIdForAppt","setAppointmentId","openAppt","isExistingPatient","isView","patientName","handleClick","appointment_id","filterAppt","filter","item","textAlign","map","patient","index","appointment_type","date","duration","start_time"],"sources":["/home/excellarate/HealthCare/healthCareRFP/healthCare-EHR-Athena/athena-frontend/src/components/assessment-form/step-two/StepTwo.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { Button, Modal, Table } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport DataContext from \"../../../context/DataContext\";\nimport Stepper from \"../../stepper/Stepper\";\nimport \"./steptwo.css\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { AiFillHome } from \"react-icons/ai\";\n\nconst StepTwo = () => {\n  const [loading, setLoading] = useState(false);\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleDetails = () => {\n    //setStep(3);\n    navigate(\"/\");\n  };\n\n  useEffect(async () => {\n    console.log(\"INSIDE USE\", deptId);\n    try {\n      setLoading(true);\n      await axios\n        .get(`http://localhost:5000/getOpenAppointments/${deptId}`)\n        .then((data) => {\n          console.log(\"DATA\", data.data);\n          setOpenAppt(data.data);\n        });\n    } catch (error) {\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  const navigate = useNavigate();\n  const {\n    step,\n    deptId,\n    patientIdForAppt,\n    setAppointmentId,\n    openAppt,\n    setOpenAppt,\n    isExistingPatient,\n    isView,\n    patientName,\n  } = useContext(DataContext);\n\n  const handleClick = async (appointment_id) => {\n    setAppointmentId(appointment_id);\n    // navigate(\"/step-three\");\n    try {\n      setLoading(true);\n      await axios\n        .get(\n          `http://localhost:5000/createNewAppointment/${patientIdForAppt}/${appointment_id}`\n        )\n        .then((data) => {\n          console.log(\"DATA\", data.data);\n        });\n    } catch (error) {\n    } finally {\n      setLoading(false);\n      const filterAppt = openAppt.filter(\n        (item) => item.appointment_id !== appointment_id\n      );\n      setOpenAppt(filterAppt);\n      setShow(true);\n    }\n  };\n\n  return (\n    <>\n      {!isExistingPatient && !isView && <Stepper step={step} />}\n      {loading ? (\n        <div class=\"d-flex justify-content-center\">\n          <div className=\"spinner-border m-5\" role=\"status\">\n            <span className=\"sr-only\"></span>\n          </div>\n        </div>\n      ) : (\n        <>\n          {isExistingPatient && isView && (\n            <Link to={step >= 1 ? \"/\" : \"\"}>\n              <AiFillHome color=\"#5A84C3\" size={30} className=\"home\" />\n            </Link>\n          )}\n          <div className={`step-form container step-three mt-5`}>\n            <h5 className=\"openAppointment\">\n              Open Appointments for {patientName}\n            </h5>\n            <Table style={{ textAlign: \"center\" }}>\n              <thead className=\"table-active\">\n                <tr>\n                  <th>Appointment Type</th>\n                  <th>Date</th>\n                  <th>Duration</th>\n                  <th>Start Time</th>\n                  <th>Book Appointment</th>\n                </tr>\n              </thead>\n              <tbody className=\"table-light\">\n                {openAppt.map((patient, index) => {\n                  const {\n                    appointment_id,\n                    appointment_type,\n                    date,\n                    duration,\n                    start_time,\n                  } = patient;\n                  return (\n                    <tr key={index}>\n                      <td>{appointment_type}</td>\n                      <td>{date}</td>\n                      <td>{duration} mins</td>\n                      <td>{start_time}</td>\n                      <td className=\"icon\">\n                        <button\n                          className=\"bookAppointmentbtn\"\n                          onClick={() => handleClick(appointment_id)}\n                        >\n                          {loading ? \"Loading\" : \"Book Appointment\"}\n                        </button>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </Table>\n          </div>\n          <Modal show={show} onHide={handleClose}>\n            <Modal.Body>Appointment Booked successfully!</Modal.Body>\n            <Modal.Footer>\n              <Button variant=\"secondary\" onClick={handleClose}>\n                Close\n              </Button>\n              <Button variant=\"primary\" onClick={handleDetails}>\n                Go To Home\n              </Button>\n            </Modal.Footer>\n          </Modal>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default StepTwo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}